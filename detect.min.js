class adBlockDetector{constructor(e){e=e||{},this.s=e.timeout||1e3,this.p=e.pixels||["https://www.facebook.com/tr?ad_slot=0&&ad_height=0&w=-ad-336x280-","https://ad.doubleclick.net/pagead/viewthroughconversion/pixel_id/"]}cr(e){var z=Promise,t=new z(t=>{setTimeout(()=>{t(!1)},e.timeout)}),o=new Image,s=new z(t=>{o.height=o.width=2,o.loading="eager",o.onload=(()=>{t(!1)}),o.onerror=o.onabort=(()=>{t(!0)}),o.src=e.url,document.body.appendChild(o)});return z.race([s,t]).then(e=>(o.remove(),e))}runTests(){var e=this.p.map(e=>({url:e,timeout:this.t})).map(this.cr);return Promise.all(e).then(e=>e.some(Boolean))}}